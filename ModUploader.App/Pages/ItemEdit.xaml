<Page
    x:Class="ModUploader.Pages.ItemEdit"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ModUploader.Pages" 
    xmlns:res="using:ModUploader.Resources"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    >

    <Grid Padding="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>


        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="30"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <ScrollViewer>
            <StackPanel x:Name="LeftZone" Spacing="10" MaxWidth="250">
                    <Border x:Name="PreviewImageBorder" Width="250"
                            Height="250"
                            Background="Black"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Top"
                            ToolTipService.ToolTip="{x:Bind res:Resources.Edit_PreviewImage_Tooltip, Mode=OneWay}">
                        <Image x:Name="PreviewImage"
                               Stretch="Uniform"
                               IsTapEnabled="True"
                               Tapped="PreviewImage_Tapped"/>
                    </Border>
                    <Expander x:Name="TypeChoiceExpander" IsExpanded="True" HorizontalAlignment="Stretch">
                        <Expander.Header>
                            <StackPanel Spacing="5">
                                <TextBlock Text="{x:Bind res:Resources.Edit_SelectType, Mode=OneWay}" HorizontalAlignment="Center"/>
                            <TextBlock x:Name="TypeChoiceExpanderError"
                                Foreground="Red"
                                FontSize="12"
                                Visibility="Collapsed"
                                HorizontalAlignment="Center"
                                Text="{x:Bind res:Resources.Edit_Required, Mode=OneWay}"/>
                                </StackPanel>
                        </Expander.Header>

                        <StackPanel Spacing="10">
                            <StackPanel>
                            <TextBlock Text="GENERAL" FontWeight="SemiBold"/>
                                <RadioButtons x:Name="GeneralRadioButtons"  HorizontalAlignment="Stretch" SelectionChanged="GeneralRadioButtons_SelectionChanged">
                                    <RadioButton Content="Map"/>
                                    <RadioButton Content="Mod"/>
                                    <RadioButton Content="SaveGame"/>
                                    <RadioButton Content="District Style"/>
                                    <RadioButton Content="Map Theme"/>
                                    <RadioButton Content="Scenario"/>
                            </RadioButtons>
                        </StackPanel>

                        <StackPanel>
                            <TextBlock Text="ASSETS" FontWeight="SemiBold"/>
                            <ListView x:Name="AssetsListView"
                                            SelectionChanged="AssetsListView_SelectionChanged"
                                            SelectionMode="Multiple">

                                <ListViewItem Content="Building"/>
                                <ListViewItem Content="Prop"/>
                                <ListViewItem Content="Tree"/>
                                <ListViewItem Content="Vehicle"/>
                                <ListViewItem Content="Intersection"/>
                                <ListViewItem Content="Park"/>
                                <ListViewItem Content="Electricity"/>
                                <ListViewItem Content="Water &amp; Sewage"/>
                                <ListViewItem Content="Garbage"/>
                                <ListViewItem Content="Healthcare"/>
                                <ListViewItem Content="Deathcare"/>
                                <ListViewItem Content="Fire Department"/>
                                <ListViewItem Content="Police Department"/>
                                <ListViewItem Content="Education"/>
                                <ListViewItem Content="Transport"/>
                                <ListViewItem Content="Transport Bus"/>
                                <ListViewItem Content="Transport Metro"/>
                                <ListViewItem Content="Transport Train"/>
                                <ListViewItem Content="Transport Ship"/>
                                <ListViewItem Content="Transport Plane"/>
                                <ListViewItem Content="Unique Building"/>
                                <ListViewItem Content="Monument"/>
                                <ListViewItem Content="Residential"/>
                                <ListViewItem Content="Residential Low"/>
                                <ListViewItem Content="Residential High"/>
                                <ListViewItem Content="Residential Low Eco"/>
                                <ListViewItem Content="Residential High Eco"/>
                                <ListViewItem Content="Residential Wall-to-wall"/>
                                <ListViewItem Content="Commercial"/>
                                <ListViewItem Content="Commercial Low"/>
                                <ListViewItem Content="Commercial High"/>
                                <ListViewItem Content="Commercial Tourism"/>
                                <ListViewItem Content="Commercial Leisure"/>
                                <ListViewItem Content="Commercial Eco"/>
                                <ListViewItem Content="Commercial Wall-to-wall"/>
                                <ListViewItem Content="Industrial"/>
                                <ListViewItem Content="Industrial Generic"/>
                                <ListViewItem Content="Industrial Farming"/>
                                <ListViewItem Content="Industrial Ore"/>
                                <ListViewItem Content="Industrial Oil"/>
                                <ListViewItem Content="Industrial Forestry"/>
                                <ListViewItem Content="Office"/>
                                <ListViewItem Content="Office Wall-to-wall"/>
                                <ListViewItem Content="Office High Tech"/>
                                <ListViewItem Content="Office Financial"/>
                                <ListViewItem Content="Transport Taxi"/>
                                <ListViewItem Content="Transport Tram"/>
                                <ListViewItem Content="Transport Monorail"/>
                                <ListViewItem Content="Transport Cable Car"/>
                                <ListViewItem Content="Citizen"/>
                                <ListViewItem Content="Road"/>
                                <ListViewItem Content="Park Area"/>
                                <ListViewItem Content="Industry Area"/>
                                <ListViewItem Content="Industry Area Farming"/>
                                <ListViewItem Content="Industry Area Forestry"/>
                                <ListViewItem Content="Industry Area Oil"/>
                                <ListViewItem Content="Industry Area Ore"/>
                                <ListViewItem Content="Unique Factory"/>
                                <ListViewItem Content="Campus"/>
                                <ListViewItem Content="Campus Area"/>
                                <ListViewItem Content="Campus Trade School"/>
                                <ListViewItem Content="Campus Liberal Arts College" ToolTipService.ToolTip="Campus Liberal Arts College"/>
                                <ListViewItem Content="Campus University"/>
                                <ListViewItem Content="Varsity Sports"/>
                                <ListViewItem Content="Fishing Industry"/>
                                <ListViewItem Content="Transport Trolleybus"/>
                                <ListViewItem Content="Service Point"/>
                                <ListViewItem Content="Hotel"/>
                            </ListView>
                        </StackPanel>

                        <StackPanel>
                            <TextBlock Text="MISC" FontWeight="SemiBold"/>
                                <RadioButtons x:Name="MiscRadioButtons" HorizontalAlignment="Stretch" SelectionChanged="MiscRadioButtons_SelectionChanged">
                                <RadioButton Content="Color Correction LUT"/>
                                <RadioButton Content="Cinematic Cameras"/>
                            </RadioButtons>
                        </StackPanel>
                            <StackPanel>
                                <TextBlock Text="{x:Bind res:Resources.Edit_CustomTags, Mode=OneWay}" FontWeight="SemiBold"/>

                                <controls:TokenizingTextBox
                                    x:Name="CustomTagsBox"
                                    TokenDelimiter=","
                                    MaximumTokens="10"
                                    ItemsSource="{x:Bind CustomTags, Mode=TwoWay}"
                                    TokenItemAdding="CustomTagsBox_TokenItemAdding"
                                    PlaceholderText="{x:Bind res:Resources.Edit_CustomTags_PlaceHolder, Mode=OneWay}"
                                    HorizontalAlignment="Stretch"
                                    CanDragItems="False"
                                    CanReorderItems="True"
                                    IsItemClickEnabled="False"
                                    IsSwipeEnabled="False"
                                    Margin="0,5,0,0"/>
                            </StackPanel>
                        </StackPanel>
                </Expander>
            </StackPanel>
          </ScrollViewer>

            <ScrollViewer x:Name="RightZone" Grid.Column="2">
                <StackPanel Spacing="10">
                    <StackPanel>
                        <TextBlock Text="{x:Bind res:Resources.Edit_Name, Mode=OneWay}" FontWeight="SemiBold"/>
                        <TextBox x:Name="TxtName"
                         TextChanged="TxtName_TextChanged"
                         HorizontalAlignment="Stretch"/>

                        <TextBlock x:Name="TxtNameError"
                                Foreground="Red"
                                FontSize="12"
                                Visibility="Collapsed"
                                Text="{x:Bind res:Resources.Edit_Required, Mode=OneWay}"/>
                    </StackPanel>

                    <TextBlock x:Name="TxtBlockDescription" Text="{x:Bind res:Resources.Edit_Description, Mode=OneWay}" FontWeight="SemiBold"/>
                    <TextBox x:Name="TxtDescription"
                         AcceptsReturn="True"
                         TextWrapping="Wrap"
                         MinHeight="120"
                         MaxHeight="250"
                         ScrollViewer.VerticalScrollBarVisibility="Auto"
                         HorizontalAlignment="Stretch"/>

                    <TextBlock Text="{x:Bind res:Resources.Edit_Changelog, Mode=OneWay}" FontWeight="SemiBold"/>
                    <TextBox x:Name="TxtChangeLog"
                         AcceptsReturn="True"
                         TextWrapping="Wrap"
                         MinHeight="100"
                         HorizontalAlignment="Stretch"/>

                    <StackPanel Margin="0,10,0,0">
                        <TextBlock Text="{x:Bind res:Resources.Edit_ContentFolder, Mode=OneWay}" FontWeight="SemiBold"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBox x:Name="TxtContentFolder" IsReadOnly="True" TextChanged="TxtContentFolder_TextChanged"/>
                            <Button Grid.Column="1" Content="{x:Bind res:Resources.Edit_Browse, Mode=OneWay}" Click="BtnSelectFolder_Click"/>
                        </Grid>
                        <TextBlock x:Name="TxtContentFolderError"
                                       Foreground="Red"
                                       FontSize="12"
                                       Visibility="Collapsed"
                                       Text="{x:Bind res:Resources.Edit_Required, Mode=OneWay}"/>
                    </StackPanel>

                    <CheckBox x:Name="UpdatePreviewOnlyCheckbox"
                          Visibility="Collapsed"
                          Content="{x:Bind res:Resources.Edit_UpdatePreviewOnly, Mode=OneWay}"
                          Checked="UpdatePreviewOnlyCheckbox_Checked"
                          Unchecked="UpdatePreviewOnlyCheckbox_Unchecked"/>
                </StackPanel>
            </ScrollViewer>
        </Grid>


        <Button 
            x:Name="BtnUpload"
            Content="{x:Bind res:Resources.Edit_Upload, Mode=OneWay}"
            Grid.Row="1"
            HorizontalAlignment="Right"
            Width="140"
            Margin="0,20,0,0">
            <Button.Flyout>
                <Flyout>
                    <Flyout.FlyoutPresenterStyle>
                        <Style TargetType="FlyoutPresenter">
                            <Setter Property="ScrollViewer.HorizontalScrollMode" Value="Disabled"/>
                            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
                        </Style>
                    </Flyout.FlyoutPresenterStyle>
                    <StackPanel>
                        <TextBlock Style="{ThemeResource BaseTextBlockStyle}"
                           Text="{x:Bind res:Resources.Edit_ConfirmUpload, Mode=OneWay}"
                           Margin="0,0,0,12"/>
                        <Button Click="BtnUpload_Click" Content="{x:Bind res:Resources.Edit_Confirm, Mode=OneWay}" />
                    </StackPanel>
                </Flyout>
            </Button.Flyout>
        </Button>
    </Grid>
</Page>